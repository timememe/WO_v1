<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIBEJ</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="dayvibe.css">
</head>
<body>
    <div class="app-wrapper">
        <!-- Background Visualizer -->
        <div class="visualizer-bg" id="visualizer">
            <!-- –ë—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –±–∞—Ä—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>

        <div class="container">
        <div class="header">
            <div class="header-left">
                <h1>VIBEJ</h1>
                <div class="subtitle">AILOOPER FOR GREATEST</div>
            </div>
            <div class="header-right">
                <div class="status-indicator" id="statusIndicator"></div>
                <span class="status-value" id="statusText">Loading...</span>
            </div>
        </div>

        <!-- Loops Grid -->
        <div class="loops-container">
            <div class="loops-header">Loops</div>
            <div class="loops-grid" id="loopsGrid">
                <!-- –ë—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –ø–ª–∏—Ç–∫–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>

        <!-- Main Controls -->
        <div class="controls-wrapper">
            <!-- Compact Playback & Loop Controls -->
            <div class="compact-controls">
                <div class="compact-group">
                    <div class="compact-label">Playback</div>
                    <div class="compact-buttons">
                        <button class="btn-compact btn-play" id="playBtn" onclick="playCode()" title="Play">‚ñ∂</button>
                        <button class="btn-compact btn-stop" id="stopBtn" onclick="stopCode()" disabled title="Stop">‚ñ†</button>
                    </div>
                </div>

                <div class="compact-group">
                    <div class="compact-label">Switchloop</div>
                    <div class="compact-buttons">
                        <button class="btn-compact btn-loop" onclick="prevLoop()" title="Previous Loop">‚óÄ</button>
                        <button class="btn-compact btn-loop" onclick="nextLoop()" title="Next Loop">‚ñ∂</button>
                    </div>
                </div>
            </div>

            <!-- AI Generation Row -->
            <div class="control-tile ai-tile">
                <div class="tile-title">AI Generation</div>
                <div class="tile-buttons ai-buttons">
                    <button class="btn btn-ai" id="aiBtn" onclick="openGenerateMode()" title="Generate new loop from scratch">‚ú® Generate Loop</button>
                    <button class="btn btn-continue" id="continueBtn" onclick="openContinueMode()" disabled title="Continue current loop (AI analyzes BPM, style, samples)">‚û°Ô∏è Continue Loop</button>
                    <button class="btn btn-transition" id="transitionBtn" onclick="openTransitionMode()" disabled title="Create smooth transition between loops">üîÑ Make transition</button>
                </div>
            </div>
        </div>        

        <!-- –†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ -->
        <div class="editor-container" id="editorContainer" data-mode="normal">
            <div class="editor-header">
                <span class="editor-title" id="editorTitle">Code Editor</span>
                <span class="editor-lang">Strudel</span>
            </div>
            <textarea id="codeEditor" placeholder="// –ù–∞–∂–º–∏ Generate loop –∏ –æ–ø–∏—à–∏ –ª—É–ø –º–µ—á—Ç—ã...
// –ù–∞–∂–º–∏ Play —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å!

// Continue loop –¥–µ–ª–∞–µ—Ç –Ω–æ–≤—ã–π –ª—É–ø –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∞—Ä–æ–≥–æ
// Make transition –¥–µ–ª–∞–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ –ª—É–ø–∞–º–∏
// Edit loop –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ª—É–ø
// –ö—Ä—É—Ç–∏ —Å–ª–∞–π–¥–µ—Ä—ã —á—Ç–æ–±—ã –º–µ–Ω—è—Ç—å –ª—É–ø –≤—Ä—É—á–Ω—É—é!"></textarea>

            <!-- Sliders Grid View -->
            <div class="sliders-grid-view" id="slidersGridView" style="display: none;">
                <div class="sliders-grid-content" id="slidersGridContent">
                    <!-- –°–ª–∞–π–¥–µ—Ä—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>

            <div class="editor-status" id="editorStatus"></div>
            <div class="editor-footer">
                <button class="btn btn-cancel btn-editor-action" id="cancelBtn" onclick="cancelAIMode()" style="display: none;">‚úñ Close</button>
                <button class="btn btn-generate btn-editor-action" id="generateBtn" onclick="executeAIGeneration()" style="display: none;">Generate</button>
                <button class="btn btn-add-loop btn-editor-action" id="addToLoopsBtn" onclick="addGeneratedLoop()" style="display: none;">Add to Loops</button>
                <button class="btn btn-update btn-editor-action" id="updateBtn" onclick="updateCurrentLoop()" style="display: none;" title="Update Loop">üîÑ Update Loop</button>
                <button class="btn btn-edit btn-editor-action" id="editBtn" onclick="openEditMode()">‚úèÔ∏è Edit loop</button>
                <button class="btn btn-sliders btn-editor-action" id="slidersBtn" onclick="openSlidersMode()" style="display: none;">üéöÔ∏è Sliders</button>
            </div>
        </div>
        </div> <!-- /container -->
    </div> <!-- /app-wrapper -->

    <!-- –ó–∞–≥—Ä—É–∂–∞–µ–º @strudel/web –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–≤–æ–µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ -->
    <script src="https://unpkg.com/@strudel/web@latest"></script>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –º–æ–¥—É–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É (ES6 modules) -->
    <script type="module" src="app.js"></script>
</body>
</html>
